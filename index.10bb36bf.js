!function(){var e,t,n,r,a,o,c,i,u,l,d=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],m=function(){var e=document.createElement("select"),t=document.createElement("option");return t.disabled=!0,t.selected=!0,t.value="",t.textContent="Choose the office",e.append(t),d.forEach(function(t){var n=document.createElement("option");n.value=t,n.textContent=t,e.append(n)}),e};function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(e,t,n,r,a){var o=document.createElement("div");o.setAttribute("data-qa","notification"),o.classList.add(a,"notification"),o.style.cssText="top: ".concat(e,"px; right: ").concat(t,"px");var c=document.createElement("h2");c.textContent=n,c.classList.add("title"),o.append(c);var i=document.createElement("p");i.textContent=r,o.append(i),document.body.append(o),setTimeout(function(){o.style.opacity=0},2e3)};function v(e,t,n,r){var a;if(e.preventDefault(),!(a=2===r?e.target.value:e.target.elements[0].value).trim().length){t.removeChild(t.lastChild),t.textContent=n;return}if(t.removeChild(t.lastChild),4===r){t.textContent="$".concat(Number(a).toLocaleString("en-US"));return}t.textContent=a}e=document.createElement("form"),["name","position","office","age","salary"].forEach(function(t){var n,r=document.createElement("label"),a="".concat(t[0].toUpperCase()).concat(t.slice(1));r.textContent="".concat(a,":"),"office"===t?n=m():(n=document.createElement("input"),"age"===t||"salary"===t?n.type="number":n.type="text"),n.name=t,n.setAttribute("data-qa","".concat(t)),r.append(n),e.append(r)}),(t=document.createElement("button")).type="submit",t.textContent="Save to table",e.append(t),e.classList.add("new-employee-form"),e.addEventListener("submit",function(e){e.preventDefault();for(var t=f(e.target.elements),n=[],r=0;r<t.length-1;r+=1){var a=t[r],o=a.name,c=a.value;if("name"===o?!(c.trim().length>=4):"age"===o?!(Number(c)>=18&&90>=Number(c)):0===c.trim().length){p(10,10,"Invalid data","Please make sure. \n\n        Title has at least 4 characters and age from 18 to 90 years. And there are no empty fields","error");return}if("salary"===o){n.push("$".concat(Number(c).toLocaleString("en-US")));continue}n.push(c)}var i=document.querySelector("tbody"),u=document.createElement("tr");n.forEach(function(e){var t=document.createElement("td");t.textContent=e,u.append(t)}),i.append(u),t.forEach(function(e){e.value=""}),p(10,10,"Success","Successfully added new employee","success")}),document.body.insertAdjacentElement("beforeend",e),n=function(e){var t=f(o.children),n=[];switch(e){case"Name":e!==i&&"DESC"===c&&(c="ASC"),i=e,n=r(0,t,c);break;case"Position":e!==i&&"DESC"===c&&(c="ASC"),i=e,n=r(1,t,c);break;case"Office":e!==i&&"DESC"===c&&(c="ASC"),i=e,n=r(2,t,c);break;case"Age":e!==i&&"DESC"===c&&(c="ASC"),i=e,n=r(3,t,c);break;case"Salary":e!==i&&"DESC"===c&&(c="ASC"),i=e,n=r(4,t,c);break;default:n=t}o.innerHTML="",c="ASC"===c?"DESC":"ASC",o.append.apply(o,f(n))},r=function(e,t,n){var r="ASC"===n?1:-1;return t.sort(function(t,n){var a=f(t.children)[e].textContent,o=f(n.children)[e].textContent,c=Number(a.replace(/(\$|,)/g,""));return isNaN(c)?a.localeCompare(o)*r:(Number(c)-Number(o.replace(/(\$|,)/g,"")))*r})},a=document.querySelectorAll("th"),o=document.querySelector("tbody"),c="ASC",i="",a.forEach(function(e){e.addEventListener("click",function(){n(e.textContent)})}),u=document.querySelector("tbody"),l=document.querySelectorAll("tr"),u.addEventListener("click",function(e){var t=e.target.parentElement;"TR"===t.tagName&&(l.forEach(function(e){e.classList.remove("active")}),t.classList.add("active"))}),document.querySelector("tbody").addEventListener("dblclick",function(e){var t,n=e.target,r=f(n.parentElement.children).indexOf(n),a=n.textContent;n.textContent="";var o=document.createElement("form"),c=document.createElement("button");r<2&&((t=document.createElement("input")).type="text"),2===r&&((t=m()).onchange=function(e){v(e,n,a,r)}),r>=3&&((t=document.createElement("input")).type="number"),t.classList.add("cell-input"),o.append(t),c.type="submit",c.style.visibility="hidden",o.append(c),n.append(o),t.addEventListener("keydown",function(e){if("Escape"===e.code){n.textContent=a;return}"Tab"===e.code&&t.blur()}),t.addEventListener("blur",function(e){var t=e.target.value;if(n.removeChild(n.lastChild),4===r){n.textContent="$".concat(Number(t).toLocaleString("en-US"));return}n.textContent=t}),o.addEventListener("submit",function(e){v(e,n,a,r)})})}();
//# sourceMappingURL=index.10bb36bf.js.map
