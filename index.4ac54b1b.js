const e=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"];var t=()=>{let t=document.createElement("select"),n=document.createElement("option");return n.disabled=!0,n.selected=!0,n.value="",n.textContent="Choose the office",t.append(n),e.forEach(e=>{let n=document.createElement("option");n.value=e,n.textContent=e,t.append(n)}),t},n=(e,t)=>"name"===e?t.trim().length>=4:"age"===e?Number(t)>=18&&90>=Number(t):0!==t.trim().length,a=(e,t,n,a,r)=>{let l=document.createElement("div");l.setAttribute("data-qa","notification"),l.classList.add(r,"notification"),l.style.cssText=`top: ${e}px; right: ${t}px`;let o=document.createElement("h2");o.textContent=n,o.classList.add("title"),l.append(o);let c=document.createElement("p");c.textContent=a,l.append(c),document.body.append(l),setTimeout(()=>{l.style.opacity=0},2e3)},r=e=>{e.preventDefault();let t=[...e.target.elements],r=[];for(let e=0;e<t.length-1;e+=1){let{name:l,value:o}=t[e];if(!n(l,o)){a(10,10,"Invalid data",`Please make sure. 

        Title has at least 4 characters and age from 18 to 90 years. And there are no empty fields`,"error");return}if("salary"===l){r.push(`$${Number(o).toLocaleString("en-US")}`);continue}r.push(o)}let l=document.querySelector("tbody"),o=document.createElement("tr");r.forEach(e=>{let t=document.createElement("td");t.textContent=e,o.append(t)}),l.append(o),t.forEach(e=>{e.value=""}),a(10,10,"Success","Successfully added new employee","success")};const l=["name","position","office","age","salary"];function o(e,t,n,a){let r;if(e.preventDefault(),!(r=2===a?e.target.value:e.target.elements[0].value).trim().length){t.removeChild(t.lastChild),t.textContent=n;return}if(t.removeChild(t.lastChild),4===a){t.textContent=`$${Number(r).toLocaleString("en-US")}`;return}t.textContent=r}(()=>{let e=document.createElement("form");l.forEach(n=>{let a;let r=document.createElement("label"),l=`${n[0].toUpperCase()}${n.slice(1)}`;r.textContent=`${l}:`,"office"===n?a=t():(a=document.createElement("input"),"age"===n||"salary"===n?a.type="number":a.type="text"),a.name=n,a.setAttribute("data-qa",`${n}`),r.append(a),e.append(r)});let n=document.createElement("button");n.type="submit",n.textContent="Save to table",e.append(n),e.classList.add("new-employee-form"),e.addEventListener("submit",r),document.body.insertAdjacentElement("beforeend",e)})(),(()=>{let e=document.querySelectorAll("th"),t=document.querySelector("tbody"),n="ASC",a="";function r(e,t,n){let a="ASC"===n?1:-1;return t.sort((t,n)=>{let r=[...t.children][e].textContent,l=[...n.children][e].textContent,o=Number(r.replace(/(\$|,)/g,""));return isNaN(o)?r.localeCompare(l)*a:(Number(o)-Number(l.replace(/(\$|,)/g,"")))*a})}e.forEach(e=>{e.addEventListener("click",()=>{(function(e){let l=[...t.children],o=[];switch(e){case"Name":e!==a&&"DESC"===n&&(n="ASC"),a=e,o=r(0,l,n);break;case"Position":e!==a&&"DESC"===n&&(n="ASC"),a=e,o=r(1,l,n);break;case"Office":e!==a&&"DESC"===n&&(n="ASC"),a=e,o=r(2,l,n);break;case"Age":e!==a&&"DESC"===n&&(n="ASC"),a=e,o=r(3,l,n);break;case"Salary":e!==a&&"DESC"===n&&(n="ASC"),a=e,o=r(4,l,n);break;default:o=l}t.innerHTML="",n="ASC"===n?"DESC":"ASC",t.append(...o)})(e.textContent)})})})(),(()=>{let e=document.querySelector("tbody"),t=document.querySelectorAll("tr");e.addEventListener("click",e=>{let n=e.target.parentElement;"TR"===n.tagName&&(t.forEach(e=>{e.classList.remove("active")}),n.classList.add("active"))})})(),document.querySelector("tbody").addEventListener("dblclick",e=>{let n;let a=e.target,r=[...a.parentElement.children].indexOf(a),l=a.textContent;a.textContent="";let c=document.createElement("form"),d=document.createElement("button");r<2&&((n=document.createElement("input")).type="text"),2===r&&((n=t()).onchange=e=>{o(e,a,l,r)}),r>=3&&((n=document.createElement("input")).type="number"),n.classList.add("cell-input"),c.append(n),d.type="submit",d.style.visibility="hidden",c.append(d),a.append(c),n.addEventListener("keydown",e=>{if("Escape"===e.code){a.textContent=l;return}"Tab"===e.code&&n.blur()}),n.addEventListener("blur",e=>{let t=e.target.value;if(a.removeChild(a.lastChild),4===r){a.textContent=`$${Number(t).toLocaleString("en-US")}`;return}a.textContent=t}),c.addEventListener("submit",e=>{o(e,a,l,r)})});
//# sourceMappingURL=index.4ac54b1b.js.map
